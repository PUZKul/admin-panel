{"ast":null,"code":"var _jsxFileName = \"/home/szymon/College/PUZ-Biblioteka/Admin-Panel/admin-panel/admin-panel/src/components/user/EditUser.jsx\";\nimport React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: \"\",\n      email: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      address: \"\",\n      phone: \"\",\n      notFound: false,\n      errorMessage: \"\",\n      user: {}\n    };\n\n    this.fetchUser = id => {\n      fetch(this.props.prefix + `/api/library/admins/users/${id}`, {\n        method: 'GET',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": this.props.getToken()\n        }\n      }).then(res => res.json()).then(res => {\n        console.log(res);\n\n        if (res.status === 404) {\n          this.setState({\n            notFound: true,\n            errorMessage: res.message\n          });\n        } else {\n          this.setState({\n            user: res,\n            notFound: false,\n            ready: true\n          });\n        }\n      });\n    };\n\n    this.edit = id => {\n      fetch(`${this.props.prefix}/api/library/admins/users/edit/${id}`, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": this.props.getToken()\n        }\n      }).then(res => {\n        if (res.status === 200) {\n          alert(\"Book returned\");\n          let filteredArray = this.state.borrow.filter(e => e.id !== id);\n          this.setState({\n            borrow: filteredArray\n          });\n        }\n      });\n    };\n\n    this.extend = id => {// fetch(`${this.props.prefix}/api/library/admins/rental/extend/${id}`,  {\n      //    method: 'POST',\n      //    headers: {\n      //     \"Content-Type\": \"application/json\",\n      //     \"Authorization\": this.props.getToken()\n      // }\n      //   })\n      //   .then(res => {\n      //       if(res.status === 200){\n      //           alert(\"Book extended\");\n      //           \n      //       }\n      //   });\n    };\n\n    this.usernameHandler = name => {\n      this.setState({\n        username: name.target.value\n      });\n    };\n\n    this.filterByUsername = e => {\n      e.preventDefault();\n      this.fetchBorrow(0, 10, this.state.username);\n    };\n  }\n\n  componentDidMount() {\n    const url = this.props.location.pathname;\n    const array = url.split('/');\n    const _id = array[array.length - 1];\n    this.fetchUser(_id);\n    this.setState({\n      id: _id\n    });\n  }\n\n  render() {\n    const {\n      user\n    } = this.state;\n\n    if (!user.length && notFound === false) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this);\n    } else if (notFound === true) {\n      return /*#__PURE__*/_jsxDEV(\"section\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: errorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Edit \", user.username, \" account\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-group input-group-sm mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group-prepend\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"input-group-text\",\n            id: \"inputGroup-sizing-sm\",\n            children: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          \"aria-label\": \"Small\",\n          \"aria-describedby\": \"inputGroup-sizing-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-group input-group-sm mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group-prepend\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"input-group-text\",\n            id: \"inputGroup-sizing-sm\",\n            children: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          \"aria-label\": \"Small\",\n          \"aria-describedby\": \"inputGroup-sizing-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-group input-group-sm mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group-prepend\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"input-group-text\",\n            id: \"inputGroup-sizing-sm\",\n            children: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          \"aria-label\": \"Small\",\n          \"aria-describedby\": \"inputGroup-sizing-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(EditUser);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/szymon/College/PUZ-Biblioteka/Admin-Panel/admin-panel/admin-panel/src/components/user/EditUser.jsx"],"names":["React","Component","NavLink","withRouter","EditUser","state","id","email","firstName","lastName","address","phone","notFound","errorMessage","user","fetchUser","fetch","props","prefix","method","headers","getToken","then","res","json","console","log","status","setState","message","ready","edit","alert","filteredArray","borrow","filter","e","extend","usernameHandler","name","username","target","value","filterByUsername","preventDefault","fetchBorrow","componentDidMount","url","location","pathname","array","split","_id","length","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAuB,kBAAvB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;;AACA,MAAMC,QAAN,SAAuBH,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAC7BI,KAD6B,GACrB;AACJC,MAAAA,EAAE,EAAE,EADA;AAEJC,MAAAA,KAAK,EAAE,EAFH;AAGJC,MAAAA,SAAS,EAAE,EAHP;AAIJC,MAAAA,QAAQ,EAAE,EAJN;AAKJC,MAAAA,OAAO,EAAE,EALL;AAMJC,MAAAA,KAAK,EAAE,EANH;AAOJC,MAAAA,QAAQ,EAAE,KAPN;AAQJC,MAAAA,YAAY,EAAE,EARV;AASJC,MAAAA,IAAI,EAAE;AATF,KADqB;;AAAA,SAuB7BC,SAvB6B,GAuBjBT,EAAD,IAAO;AACdU,MAAAA,KAAK,CAAC,KAAKC,KAAL,CAAWC,MAAX,GAAqB,6BAA4BZ,EAAG,EAArD,EAAwD;AAC1Da,QAAAA,MAAM,EAAE,KADkD;AAE1DC,QAAAA,OAAO,EAAE;AAAC,0BAAgB,kBAAjB;AAAqC,2BAAiB,KAAKH,KAAL,CAAWI,QAAX;AAAtD;AAFiD,OAAxD,CAAL,CAICC,IAJD,CAIMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAJb,EAKCF,IALD,CAKMC,GAAG,IAAI;AACTE,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;;AACA,YAAGA,GAAG,CAACI,MAAJ,KAAe,GAAlB,EAAsB;AAClB,eAAKC,QAAL,CAAc;AAAChB,YAAAA,QAAQ,EAAE,IAAX;AAAiBC,YAAAA,YAAY,EAAEU,GAAG,CAACM;AAAnC,WAAd;AACH,SAFD,MAGI;AACA,eAAKD,QAAL,CAAc;AAACd,YAAAA,IAAI,EAAES,GAAP;AAAYX,YAAAA,QAAQ,EAAE,KAAtB;AAA6BkB,YAAAA,KAAK,EAAE;AAApC,WAAd;AACH;AACJ,OAbD;AAcD,KAtC0B;;AAAA,SAwC/BC,IAxC+B,GAwCvBzB,EAAD,IAAQ;AACbU,MAAAA,KAAK,CAAE,GAAE,KAAKC,KAAL,CAAWC,MAAO,kCAAiCZ,EAAG,EAA1D,EAA8D;AAChEa,QAAAA,MAAM,EAAE,MADwD;AAEhEC,QAAAA,OAAO,EAAE;AACR,0BAAgB,kBADR;AAER,2BAAiB,KAAKH,KAAL,CAAWI,QAAX;AAFT;AAFuD,OAA9D,CAAL,CAOGC,IAPH,CAOQC,GAAG,IAAI;AACT,YAAGA,GAAG,CAACI,MAAJ,KAAe,GAAlB,EAAsB;AAClBK,UAAAA,KAAK,CAAC,eAAD,CAAL;AACA,cAAIC,aAAa,GAAG,KAAK5B,KAAL,CAAW6B,MAAX,CAAkBC,MAAlB,CAAyBC,CAAC,IAAIA,CAAC,CAAC9B,EAAF,KAASA,EAAvC,CAApB;AACA,eAAKsB,QAAL,CAAc;AAACM,YAAAA,MAAM,EAAED;AAAT,WAAd;AACH;AACJ,OAbH;AAcD,KAvD8B;;AAAA,SAyD/BI,MAzD+B,GAyDrB/B,EAAD,IAAQ,CACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KAvE8B;;AAAA,SAyE/BgC,eAzE+B,GAyEZC,IAAD,IAAS;AACzB,WAAKX,QAAL,CAAc;AAACY,QAAAA,QAAQ,EAAED,IAAI,CAACE,MAAL,CAAYC;AAAvB,OAAd;AACH,KA3EgC;;AAAA,SA6E/BC,gBA7E+B,GA6EXP,CAAD,IAAM;AACvBA,MAAAA,CAAC,CAACQ,cAAF;AACA,WAAKC,WAAL,CAAiB,CAAjB,EAAoB,EAApB,EAAwB,KAAKxC,KAAL,CAAWmC,QAAnC;AACD,KAhF8B;AAAA;;AAa7BM,EAAAA,iBAAiB,GAAE;AACf,UAAMC,GAAG,GAAG,KAAK9B,KAAL,CAAW+B,QAAX,CAAoBC,QAAhC;AACA,UAAMC,KAAK,GAAGH,GAAG,CAACI,KAAJ,CAAU,GAAV,CAAd;AACA,UAAMC,GAAG,GAAGF,KAAK,CAACA,KAAK,CAACG,MAAN,GAAa,CAAd,CAAjB;AAEA,SAAKtC,SAAL,CAAeqC,GAAf;AACA,SAAKxB,QAAL,CAAc;AAACtB,MAAAA,EAAE,EAAE8C;AAAL,KAAd;AACH;;AA8DDE,EAAAA,MAAM,GAAG;AACL,UAAM;AAACxC,MAAAA;AAAD,QAAS,KAAKT,KAApB;;AACA,QAAG,CAACS,IAAI,CAACuC,MAAN,IAAgBzC,QAAQ,KAAG,KAA9B,EAAoC;AAChC,0BAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAR;AACH,KAFD,MAGK,IAAGA,QAAQ,KAAK,IAAhB,EAAqB;AACtB,0BACI;AAAA,+BACI;AAAA,iCAAK;AAAA,sBAAIC;AAAJ;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ;AAKH;;AACD,wBACI;AAAS,MAAA,SAAS,EAAC,EAAnB;AAAA,8BACI;AAAA,4BAAUC,IAAI,CAAC0B,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,KAAK,EAAC,iCAAX;AAAA,gCACI;AAAK,UAAA,KAAK,EAAC,qBAAX;AAAA,iCACE;AAAM,YAAA,KAAK,EAAC,kBAAZ;AAA+B,YAAA,EAAE,EAAC,sBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,KAAK,EAAC,cAAzB;AAAwC,wBAAW,OAAnD;AAA2D,8BAAiB;AAA5E;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eASI;AAAK,QAAA,KAAK,EAAC,iCAAX;AAAA,gCACI;AAAK,UAAA,KAAK,EAAC,qBAAX;AAAA,iCACE;AAAM,YAAA,KAAK,EAAC,kBAAZ;AAA+B,YAAA,EAAE,EAAC,sBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,KAAK,EAAC,cAAzB;AAAwC,wBAAW,OAAnD;AAA2D,8BAAiB;AAA5E;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ,eAgBI;AAAK,QAAA,KAAK,EAAC,iCAAX;AAAA,gCACI;AAAK,UAAA,KAAK,EAAC,qBAAX;AAAA,iCACE;AAAM,YAAA,KAAK,EAAC,kBAAZ;AAA+B,YAAA,EAAE,EAAC,sBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,KAAK,EAAC,cAAzB;AAAwC,wBAAW,OAAnD;AAA2D,8BAAiB;AAA5E;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA0BH;;AAxH4B;;AA2HjC,oBAAerC,UAAU,CAACC,QAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport { NavLink} from 'react-router-dom';\nimport { withRouter } from 'react-router-dom'\nclass EditUser extends Component {\n    state = {\n        id: \"\",\n        email: \"\",\n        firstName: \"\",\n        lastName: \"\",\n        address: \"\",\n        phone: \"\",\n        notFound: false,\n        errorMessage: \"\",\n        user: {}\n     }\n\n    componentDidMount(){\n        const url = this.props.location.pathname;\n        const array = url.split('/');\n        const _id = array[array.length-1];\n\n        this.fetchUser(_id);\n        this.setState({id: _id});\n    }\n     \n\n    fetchUser= (id) =>{\n        fetch(this.props.prefix + `/api/library/admins/users/${id}`, {\n           method: 'GET',\n           headers: {\"Content-Type\": \"application/json\", \"Authorization\": this.props.getToken()}\n          })\n        .then(res => res.json())\n        .then(res => {\n            console.log(res)\n            if(res.status === 404){\n                this.setState({notFound: true, errorMessage: res.message});\n            }\n            else{\n                this.setState({user: res, notFound: false, ready: true})\n            }       \n        })\n      }\n\n  edit = (id) => {\n    fetch(`${this.props.prefix}/api/library/admins/users/edit/${id}`,  {\n       method: 'POST',\n       headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": this.props.getToken()\n    }\n      })\n      .then(res => {\n          if(res.status === 200){\n              alert(\"Book returned\");\n              let filteredArray = this.state.borrow.filter(e => e.id !== id);\n              this.setState({borrow: filteredArray});\n          }\n      });\n  }\n\n  extend = (id) => {\n    // fetch(`${this.props.prefix}/api/library/admins/rental/extend/${id}`,  {\n    //    method: 'POST',\n    //    headers: {\n    //     \"Content-Type\": \"application/json\",\n    //     \"Authorization\": this.props.getToken()\n    // }\n    //   })\n    //   .then(res => {\n    //       if(res.status === 200){\n    //           alert(\"Book extended\");\n    //           \n    //       }\n    //   });\n  }\n\n  usernameHandler = (name) =>{\n    this.setState({username: name.target.value});\n}   \n\n  filterByUsername = (e) =>{\n    e.preventDefault();\n    this.fetchBorrow(0, 10, this.state.username);\n  }\n\n    render() { \n        const {user} = this.state;\n        if(!user.length && notFound===false){\n            return (<div>Loading...</div>)\n        }\n        else if(notFound === true){\n            return (\n                <section>\n                    <div><b>{errorMessage}</b></div> \n                </section>\n            )\n        }\n        return ( \n            <section className=\"\">\n                <h3>Edit {user.username} account</h3>           \n                <div class=\"input-group input-group-sm mb-3\">\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">First name</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n                </div>\n\n                <div class=\"input-group input-group-sm mb-3\">\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">First name</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n                </div>\n\n                <div class=\"input-group input-group-sm mb-3\">\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">First name</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n                </div>\n                             \n            </section>\n         );\n    }\n}\n \nexport default withRouter(EditUser);"]},"metadata":{},"sourceType":"module"}