{"ast":null,"code":"var _jsxFileName = \"/home/szymon/College/PUZ-Biblioteka/Admin-Panel/admin-panel/admin-panel/src/components/user/EditUser.jsx\";\nimport React, { Component } from 'react';\nimport Moment from 'moment';\nimport { NavLink } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      address: \"\",\n      phone: \"\",\n      notFound: false,\n      errorMessage: \"\"\n    };\n\n    this.fetchUser = id => {\n      fetch(this.props.prefix + `/api/library/admins/users/${id}`, {\n        method: 'GET',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": this.props.getToken()\n        }\n      }).then(res => res.json()).then(res => {\n        console.log(res);\n\n        if (res.status === 404) {\n          this.setState({\n            notFound: true,\n            errorMessage: res.message\n          });\n        } else {\n          this.setState({\n            user: res,\n            notFound: false,\n            ready: true\n          });\n        }\n      });\n    };\n\n    this.edit = id => {\n      fetch(`${this.props.prefix}/api/library/admins/users/edit/${id}`, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": this.props.getToken()\n        }\n      }).then(res => {\n        if (res.status === 200) {\n          alert(\"Book returned\");\n          let filteredArray = this.state.borrow.filter(e => e.id !== id);\n          this.setState({\n            borrow: filteredArray\n          });\n        }\n      });\n    };\n\n    this.extend = id => {// fetch(`${this.props.prefix}/api/library/admins/rental/extend/${id}`,  {\n      //    method: 'POST',\n      //    headers: {\n      //     \"Content-Type\": \"application/json\",\n      //     \"Authorization\": this.props.getToken()\n      // }\n      //   })\n      //   .then(res => {\n      //       if(res.status === 200){\n      //           alert(\"Book extended\");\n      //           \n      //       }\n      //   });\n    };\n\n    this.usernameHandler = name => {\n      this.setState({\n        username: name.target.value\n      });\n    };\n\n    this.filterByUsername = e => {\n      e.preventDefault();\n      this.fetchBorrow(0, 10, this.state.username);\n    };\n  }\n\n  componentDidMount() {\n    this.fetchUser(0, 10, this.state.username);\n  }\n\n  render() {\n    const {\n      borrow,\n      notFound,\n      errorMessage\n    } = this.state;\n\n    if (!borrow.length && notFound === false) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this);\n    } else if (notFound === true) {\n      return /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [this.searchBar(), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: errorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [this.searchBar(), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-group input-group-sm mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group-prepend\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"input-group-text\",\n            id: \"inputGroup-sizing-sm\",\n            children: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          \"aria-label\": \"Small\",\n          \"aria-describedby\": \"inputGroup-sizing-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group-prepend\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"input-group-text\",\n            id: \"inputGroup-sizing-sm\",\n            children: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          \"aria-label\": \"Small\",\n          \"aria-describedby\": \"inputGroup-sizing-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group-prepend\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"input-group-text\",\n            id: \"inputGroup-sizing-sm\",\n            children: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          \"aria-label\": \"Small\",\n          \"aria-describedby\": \"inputGroup-sizing-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group-prepend\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"input-group-text\",\n            id: \"inputGroup-sizing-sm\",\n            children: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          \"aria-label\": \"Small\",\n          \"aria-describedby\": \"inputGroup-sizing-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group-prepend\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"input-group-text\",\n            id: \"inputGroup-sizing-sm\",\n            children: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          \"aria-label\": \"Small\",\n          \"aria-describedby\": \"inputGroup-sizing-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group-prepend\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"input-group-text\",\n            id: \"inputGroup-sizing-sm\",\n            children: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          \"aria-label\": \"Small\",\n          \"aria-describedby\": \"inputGroup-sizing-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this);\n  }\n\n  searchBar() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"d-flex justify-content-center mb-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"center-text mx-5\",\n          children: \"Find by username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"visually-hidden\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"username\",\n          value: this.state.username,\n          onChange: this.usernameHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: this.filterByUsername,\n          className: \"btn btn-primary mb-3 mx-3\",\n          children: \"Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default EditUser;","map":{"version":3,"sources":["/home/szymon/College/PUZ-Biblioteka/Admin-Panel/admin-panel/admin-panel/src/components/user/EditUser.jsx"],"names":["React","Component","Moment","NavLink","EditUser","state","email","firstName","lastName","address","phone","notFound","errorMessage","fetchUser","id","fetch","props","prefix","method","headers","getToken","then","res","json","console","log","status","setState","message","user","ready","edit","alert","filteredArray","borrow","filter","e","extend","usernameHandler","name","username","target","value","filterByUsername","preventDefault","fetchBorrow","componentDidMount","render","length","searchBar"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Moment from 'moment';\nimport { NavLink} from 'react-router-dom';\n\nclass EditUser extends Component {\n    state = {\n        email: \"\",\n        firstName: \"\",\n        lastName: \"\",\n        address: \"\",\n        phone: \"\",\n        notFound: false,\n        errorMessage: \"\",\n     }\n\n    componentDidMount(){\n        this.fetchUser(0, 10, this.state.username);\n    }\n     \n\n    fetchUser= (id) =>{\n        fetch(this.props.prefix + `/api/library/admins/users/${id}`, {\n           method: 'GET',\n           headers: {\"Content-Type\": \"application/json\", \"Authorization\": this.props.getToken()}\n          })\n        .then(res => res.json())\n        .then(res => {\n            console.log(res)\n            if(res.status === 404){\n                this.setState({notFound: true, errorMessage: res.message});\n            }\n            else{\n                this.setState({user: res, notFound: false, ready: true})\n            }       \n        })\n      }\n    \n\n\n  edit = (id) => {\n    fetch(`${this.props.prefix}/api/library/admins/users/edit/${id}`,  {\n       method: 'POST',\n       headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": this.props.getToken()\n    }\n      })\n      .then(res => {\n          if(res.status === 200){\n              alert(\"Book returned\");\n              let filteredArray = this.state.borrow.filter(e => e.id !== id);\n              this.setState({borrow: filteredArray});\n          }\n      });\n  }\n\n  extend = (id) => {\n    // fetch(`${this.props.prefix}/api/library/admins/rental/extend/${id}`,  {\n    //    method: 'POST',\n    //    headers: {\n    //     \"Content-Type\": \"application/json\",\n    //     \"Authorization\": this.props.getToken()\n    // }\n    //   })\n    //   .then(res => {\n    //       if(res.status === 200){\n    //           alert(\"Book extended\");\n    //           \n    //       }\n    //   });\n  }\n\n  usernameHandler = (name) =>{\n    this.setState({username: name.target.value});\n}   \n\n  filterByUsername = (e) =>{\n    e.preventDefault();\n    this.fetchBorrow(0, 10, this.state.username);\n  }\n\n    render() { \n        const {borrow, notFound, errorMessage} = this.state;\n        if(!borrow.length && notFound===false){\n            return (<div>Loading...</div>)\n        }\n        else if(notFound === true){\n            return (\n                <section>\n                    {this.searchBar()}\n                    <div><b>{errorMessage}</b></div> \n                </section>\n            )\n        }\n        return ( \n            <section>\n            {this.searchBar()}            \n                <div class=\"input-group input-group-sm mb-3\">\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">First name</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">First name</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">First name</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">First name</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">First name</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">First name</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n                  </div>\n                )             \n            </section>\n         );\n    }\n\n    searchBar(){\n        return(\n            <form className=\"d-flex justify-content-center mb-5\">\n                <div className=\"col-auto\">\n                    <p className=\"center-text mx-5\">Find by username</p>\n                </div>\n                <div className=\"col-auto\">\n                    <label className=\"visually-hidden\">Username</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"username\" value={this.state.username} onChange={this.usernameHandler}/>\n                </div>\n                <div className=\"col-auto\">\n                    <button type=\"submit\"  onClick={this.filterByUsername} className=\"btn btn-primary mb-3 mx-3\" >Filter</button>\n                </div>\n            </form>\n        )\n    }\n}\n \nexport default EditUser;"]},"metadata":{},"sourceType":"module"}