{"ast":null,"code":"var _jsxFileName = \"D:\\\\Language\\\\Studia\\\\Biblioteka2.0\\\\library-admin-panel\\\\admin-panel\\\\src\\\\components\\\\user\\\\EditUser.jsx\";\nimport React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: \"\",\n      email: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      address: \"\",\n      phone: \"\",\n      notFound: false,\n      errorMessage: \"\",\n      user: null\n    };\n\n    this.fetchUser = id => {\n      fetch(this.props.prefix + `/api/library/admins/users/${id}`, {\n        method: 'GET',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": this.props.getToken()\n        }\n      }).then(res => res.json()).then(res => {\n        console.log(res);\n\n        if (res.status === 404) {\n          this.setState({\n            notFound: true,\n            errorMessage: res.message\n          });\n        } else {\n          this.setState({\n            user: res,\n            notFound: false,\n            ready: true\n          });\n        }\n      });\n    };\n\n    this.edit = id => {\n      fetch(`${this.props.prefix}/api/library/admins/users/edit/${id}`, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": this.props.getToken()\n        }\n      }).then(res => {\n        if (res.status === 200) {\n          alert(\"Book returned\");\n          let filteredArray = this.state.borrow.filter(e => e.id !== id);\n          this.setState({\n            borrow: filteredArray\n          });\n        }\n      });\n    };\n\n    this.goBack = () => {\n      this.props.history.push('/users');\n    };\n\n    this.usernameHandler = name => {\n      this.setState({\n        username: name.target.value\n      });\n    };\n\n    this.filterByUsername = e => {\n      e.preventDefault();\n      this.fetchBorrow(0, 10, this.state.username);\n    };\n  }\n\n  componentDidMount() {\n    const url = this.props.location.pathname;\n    const array = url.split('/');\n    const _id = array[array.length - 1];\n    this.fetchUser(_id);\n    this.setState({\n      id: _id\n    });\n  }\n\n  render() {\n    const {\n      user,\n      notFound,\n      errorMessage\n    } = this.state;\n\n    if (user === null && notFound === false) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this);\n    } else if (notFound === true) {\n      return /*#__PURE__*/_jsxDEV(\"section\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: errorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Edit \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [\" \", user.username, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 26\n        }, this), \" account\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"shadow-sm p-3 mb-3 bg-white rounded\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group input-group-sm mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-prepend edit-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"input-group-text\",\n                id: \"inputGroup-sizing-sm\",\n                children: \"First name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              value: user.firstName,\n              \"aria-label\": \"Small\",\n              \"aria-describedby\": \"inputGroup-sizing-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group input-group-sm mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-prepend edit-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"input-group-text\",\n                id: \"inputGroup-sizing-sm\",\n                children: \"Last name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              value: user.lastName,\n              \"aria-label\": \"Small\",\n              \"aria-describedby\": \"inputGroup-sizing-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group input-group-sm mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-prepend edit-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"input-group-text\",\n                id: \"inputGroup-sizing-sm\",\n                children: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              value: user.address,\n              \"aria-label\": \"Small\",\n              \"aria-describedby\": \"inputGroup-sizing-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group input-group-sm mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-prepend edit-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"input-group-text\",\n                id: \"inputGroup-sizing-sm\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              value: user.email,\n              \"aria-label\": \"Small\",\n              \"aria-describedby\": \"inputGroup-sizing-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group input-group-sm mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-prepend edit-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"input-group-text\",\n                id: \"inputGroup-sizing-sm\",\n                children: \"Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              value: user.phone,\n              \"aria-label\": \"Small\",\n              \"aria-describedby\": \"inputGroup-sizing-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group input-group-sm mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-prepend edit-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"input-group-text\",\n                id: \"inputGroup-sizing-sm\",\n                children: \"Comment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              value: user.comment,\n              \"aria-label\": \"Small\",\n              \"aria-describedby\": \"inputGroup-sizing-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-outline-secondary\",\n            onClick: () => this.goBack(),\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-success ms-2\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mt-5\",\n        children: \"Advanced\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"shadow-sm p-3 mb-3 bg-white rounded\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"basic-url\",\n            children: \"Books limit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-prepend\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                class: \"btn btn-success\",\n                type: \"button\",\n                children: \"Confirm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              value: user.maxBooks,\n              id: \"basic-url\",\n              \"aria-describedby\": \"basic-addon3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"banned\",\n            children: \"Is banned\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-secondary dropdown-toggle\",\n              type: \"button\",\n              id: \"dropdownMenuButton2\",\n              \"data-toggle\": \"dropdown\",\n              \"aria-haspopup\": \"true\",\n              \"aria-expanded\": \"false\",\n              children: user.banned ? \"Banned\" : \"Not Banned\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-menu\",\n              \"aria-labelledby\": \"dropdownMenuButton2\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"dropdown-item\",\n                href: \"#\",\n                children: \"Banned\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"dropdown-item\",\n                href: \"#\",\n                children: \"Not Banned\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Delete account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(EditUser);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["D:/Language/Studia/Biblioteka2.0/library-admin-panel/admin-panel/src/components/user/EditUser.jsx"],"names":["React","Component","NavLink","withRouter","EditUser","state","id","email","firstName","lastName","address","phone","notFound","errorMessage","user","fetchUser","fetch","props","prefix","method","headers","getToken","then","res","json","console","log","status","setState","message","ready","edit","alert","filteredArray","borrow","filter","e","goBack","history","push","usernameHandler","name","username","target","value","filterByUsername","preventDefault","fetchBorrow","componentDidMount","url","location","pathname","array","split","_id","length","render","comment","maxBooks","banned"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { NavLink} from 'react-router-dom';\nimport { withRouter } from 'react-router-dom'\nclass EditUser extends Component {\n    state = {\n        id: \"\",\n        email: \"\",\n        firstName: \"\",\n        lastName: \"\",\n        address: \"\",\n        phone: \"\",\n        notFound: false,\n        errorMessage: \"\",\n        user: null\n     }\n\n    componentDidMount(){\n        const url = this.props.location.pathname;\n        const array = url.split('/');\n        const _id = array[array.length-1];\n\n        this.fetchUser(_id);\n        this.setState({id: _id});\n    }\n     \n\n    fetchUser= (id) =>{\n        fetch(this.props.prefix + `/api/library/admins/users/${id}`, {\n           method: 'GET',\n           headers: {\"Content-Type\": \"application/json\", \"Authorization\": this.props.getToken()}\n          })\n        .then(res => res.json())\n        .then(res => {\n            console.log(res)\n            if(res.status === 404){\n                this.setState({notFound: true, errorMessage: res.message});\n            }\n            else{\n                this.setState({user: res, notFound: false, ready: true})\n            }       \n        })\n      }\n\n  edit = (id) => {\n    fetch(`${this.props.prefix}/api/library/admins/users/edit/${id}`,  {\n       method: 'POST',\n       headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": this.props.getToken()\n    }\n      })\n      .then(res => {\n          if(res.status === 200){\n              alert(\"Book returned\");\n              let filteredArray = this.state.borrow.filter(e => e.id !== id);\n              this.setState({borrow: filteredArray});\n          }\n      });\n  }\n\n  goBack = () => {\n    this.props.history.push('/users');\n  }\n\n  usernameHandler = (name) =>{\n    this.setState({username: name.target.value});\n}   \n\n  filterByUsername = (e) =>{\n    e.preventDefault();\n    this.fetchBorrow(0, 10, this.state.username);\n  }\n\n    render() { \n        const {user, notFound, errorMessage} = this.state;\n        if(user === null && notFound===false){\n            return (<div>Loading...</div>)\n        }\n        else if(notFound === true){\n            return (\n                <section>\n                    <div><b>{errorMessage}</b></div> \n                </section>\n            )\n        }\n        return ( \n            <section className=\"\">\n                <h3>Edit <b> {user.username} </b> account</h3>   \n                <div class=\"shadow-sm p-3 mb-3 bg-white rounded\">\n                    <div class=\"card-body\">      \n                    <div className=\"input-group input-group-sm mb-3\">\n                        <div className=\"input-group-prepend edit-icon\">\n                        <span className=\"input-group-text\" id=\"inputGroup-sizing-sm\">First name</span>\n                        </div>\n                        <input type=\"text\" className=\"form-control\" value={user.firstName} aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n                    </div>\n\n                    <div className=\"input-group input-group-sm mb-3\">\n                        <div className=\"input-group-prepend edit-icon\">\n                        <span className=\"input-group-text\" id=\"inputGroup-sizing-sm\">Last name</span>\n                        </div>\n                        <input type=\"text\" className=\"form-control\" value={user.lastName} aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n                    </div>\n\n                    <div className=\"input-group input-group-sm mb-3\">\n                        <div className=\"input-group-prepend edit-icon\">\n                        <span className=\"input-group-text\" id=\"inputGroup-sizing-sm\">Address</span>\n                        </div>\n                        <input type=\"text\" className=\"form-control\" value={user.address} aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n                    </div>\n\n                    <div className=\"input-group input-group-sm mb-3\">\n                        <div className=\"input-group-prepend edit-icon\">\n                        <span className=\"input-group-text\" id=\"inputGroup-sizing-sm\">Email</span>\n                        </div>\n                        <input type=\"text\" className=\"form-control\" value={user.email} aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n                    </div>\n\n                    <div className=\"input-group input-group-sm mb-3\">\n                        <div className=\"input-group-prepend edit-icon\">\n                        <span className=\"input-group-text\" id=\"inputGroup-sizing-sm\">Phone</span>\n                        </div>\n                        <input type=\"text\" className=\"form-control\" value={user.phone} aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n                    </div>\n\n                    <div className=\"input-group input-group-sm mb-3\">\n                        <div className=\"input-group-prepend edit-icon\">\n                        <span className=\"input-group-text\" id=\"inputGroup-sizing-sm\">Comment</span>\n                        </div>\n                        <input type=\"text\" className=\"form-control\" value={user.comment} aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n                    </div>\n\n                    <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={() => this.goBack()}>Back</button>\n                    <button type=\"button\" className=\"btn btn-success ms-2\">Save</button>\n                    </div>  \n                </div>\n\n                <h3 className=\"mt-5\">Advanced</h3>\n                <div class=\"shadow-sm p-3 mb-3 bg-white rounded\">\n                    <div class=\"card-body\">\n                    <label for=\"basic-url\">Books limit</label>\n                        <div className=\"input-group mb-3\">\n                        <div className=\"input-group-prepend\">\n                        <button class=\"btn btn-success\" type=\"button\">Confirm</button>\n                        </div>\n                        <input type=\"text\" className=\"form-control\" value={user.maxBooks} id=\"basic-url\" aria-describedby=\"basic-addon3\"/>\n                        </div>\n\n                        <label for=\"banned\">Is banned</label>\n                        <div className=\"dropdown mb-4\">\n                            <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton2\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                {user.banned ? \"Banned\" : \"Not Banned\"}\n                            </button>\n                            <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton2\">\n                                <a className=\"dropdown-item\" href=\"#\">Banned</a>\n                                <a className=\"dropdown-item\" href=\"#\">Not Banned</a>\n                            </div>\n                        </div>\n                        <hr/>\n                        <label>Delete account</label>\n                        <div>\n                        <button className=\"btn btn-danger\">Delete</button>\n                        </div>\n                    </div>\n                </div>\n      \n                             \n            </section>\n         );\n    }\n}\n \nexport default withRouter(EditUser);"]},"metadata":{},"sourceType":"module"}