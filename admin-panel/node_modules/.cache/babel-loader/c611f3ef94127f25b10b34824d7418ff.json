{"ast":null,"code":"var _jsxFileName = \"/home/szymon/College/PUZ-Biblioteka/Admin-Panel/admin-panel/admin-panel/src/components/user/EditUser.jsx\";\nimport React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      address: \"\",\n      phone: \"\",\n      notFound: false,\n      errorMessage: \"\",\n      user: {}\n    };\n\n    this.fetchUser = id => {\n      fetch(this.props.prefix + `/api/library/admins/users/${id}`, {\n        method: 'GET',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": this.props.getToken()\n        }\n      }).then(res => res.json()).then(res => {\n        console.log(res);\n\n        if (res.status === 404) {\n          this.setState({\n            notFound: true,\n            errorMessage: res.message\n          });\n        } else {\n          this.setState({\n            user: res,\n            notFound: false,\n            ready: true\n          });\n        }\n      });\n    };\n\n    this.edit = id => {\n      fetch(`${this.props.prefix}/api/library/admins/users/edit/${id}`, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": this.props.getToken()\n        }\n      }).then(res => {\n        if (res.status === 200) {\n          alert(\"Book returned\");\n          let filteredArray = this.state.borrow.filter(e => e.id !== id);\n          this.setState({\n            borrow: filteredArray\n          });\n        }\n      });\n    };\n\n    this.extend = id => {// fetch(`${this.props.prefix}/api/library/admins/rental/extend/${id}`,  {\n      //    method: 'POST',\n      //    headers: {\n      //     \"Content-Type\": \"application/json\",\n      //     \"Authorization\": this.props.getToken()\n      // }\n      //   })\n      //   .then(res => {\n      //       if(res.status === 200){\n      //           alert(\"Book extended\");\n      //           \n      //       }\n      //   });\n    };\n\n    this.usernameHandler = name => {\n      this.setState({\n        username: name.target.value\n      });\n    };\n\n    this.filterByUsername = e => {\n      e.preventDefault();\n      this.fetchBorrow(0, 10, this.state.username);\n    };\n  }\n\n  componentDidMount() {\n    this.fetchUser(0, 10, this.state.username);\n  }\n\n  render() {\n    const {\n      user\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Edit \", user.username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-group input-group-sm mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group-prepend\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"input-group-text\",\n            id: \"inputGroup-sizing-sm\",\n            children: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          \"aria-label\": \"Small\",\n          \"aria-describedby\": \"inputGroup-sizing-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-group input-group-sm mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group-prepend\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"input-group-text\",\n            id: \"inputGroup-sizing-sm\",\n            children: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          \"aria-label\": \"Small\",\n          \"aria-describedby\": \"inputGroup-sizing-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-group input-group-sm mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group-prepend\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"input-group-text\",\n            id: \"inputGroup-sizing-sm\",\n            children: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          \"aria-label\": \"Small\",\n          \"aria-describedby\": \"inputGroup-sizing-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(EditUser);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/szymon/College/PUZ-Biblioteka/Admin-Panel/admin-panel/admin-panel/src/components/user/EditUser.jsx"],"names":["React","Component","NavLink","withRouter","EditUser","state","email","firstName","lastName","address","phone","notFound","errorMessage","user","fetchUser","id","fetch","props","prefix","method","headers","getToken","then","res","json","console","log","status","setState","message","ready","edit","alert","filteredArray","borrow","filter","e","extend","usernameHandler","name","username","target","value","filterByUsername","preventDefault","fetchBorrow","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { NavLink} from 'react-router-dom';\nimport { withRouter } from 'react-router-dom'\nclass EditUser extends Component {\n    state = {\n        email: \"\",\n        firstName: \"\",\n        lastName: \"\",\n        address: \"\",\n        phone: \"\",\n        notFound: false,\n        errorMessage: \"\",\n        user: {}\n     }\n\n    componentDidMount(){\n        this.fetchUser(0, 10, this.state.username);\n    }\n     \n\n    fetchUser= (id) =>{\n        fetch(this.props.prefix + `/api/library/admins/users/${id}`, {\n           method: 'GET',\n           headers: {\"Content-Type\": \"application/json\", \"Authorization\": this.props.getToken()}\n          })\n        .then(res => res.json())\n        .then(res => {\n            console.log(res)\n            if(res.status === 404){\n                this.setState({notFound: true, errorMessage: res.message});\n            }\n            else{\n                this.setState({user: res, notFound: false, ready: true})\n            }       \n        })\n      }\n\n  edit = (id) => {\n    fetch(`${this.props.prefix}/api/library/admins/users/edit/${id}`,  {\n       method: 'POST',\n       headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": this.props.getToken()\n    }\n      })\n      .then(res => {\n          if(res.status === 200){\n              alert(\"Book returned\");\n              let filteredArray = this.state.borrow.filter(e => e.id !== id);\n              this.setState({borrow: filteredArray});\n          }\n      });\n  }\n\n  extend = (id) => {\n    // fetch(`${this.props.prefix}/api/library/admins/rental/extend/${id}`,  {\n    //    method: 'POST',\n    //    headers: {\n    //     \"Content-Type\": \"application/json\",\n    //     \"Authorization\": this.props.getToken()\n    // }\n    //   })\n    //   .then(res => {\n    //       if(res.status === 200){\n    //           alert(\"Book extended\");\n    //           \n    //       }\n    //   });\n  }\n\n  usernameHandler = (name) =>{\n    this.setState({username: name.target.value});\n}   \n\n  filterByUsername = (e) =>{\n    e.preventDefault();\n    this.fetchBorrow(0, 10, this.state.username);\n  }\n\n    render() { \n        const {user} = this.state;\n        \n        return ( \n            <section className=\"\">\n                <h3>Edit {user.username}</h3>           \n                <div class=\"input-group input-group-sm mb-3\">\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">First name</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n                </div>\n\n                <div class=\"input-group input-group-sm mb-3\">\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">First name</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n                </div>\n\n                <div class=\"input-group input-group-sm mb-3\">\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">First name</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\"/>\n                </div>\n                             \n            </section>\n         );\n    }\n}\n \nexport default withRouter(EditUser);"]},"metadata":{},"sourceType":"module"}