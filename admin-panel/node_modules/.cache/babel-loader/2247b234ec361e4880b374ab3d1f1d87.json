{"ast":null,"code":"import _classCallCheck from\"/home/szymon/College/PUZ-Biblioteka/Admin-Panel/admin-panel/admin-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/szymon/College/PUZ-Biblioteka/Admin-Panel/admin-panel/admin-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/szymon/College/PUZ-Biblioteka/Admin-Panel/admin-panel/admin-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/szymon/College/PUZ-Biblioteka/Admin-Panel/admin-panel/admin-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./App.css';import{Route,Switch,HashRouter as Router}from'react-router-dom';import Menu from'./components/menu/Menu';import Login from'./components/login/Login';import Reservations from'./components/reservations/Reservations';import Details from'./components/ReservationDetails/Details';import Main from'./components/main/Main';import Borrow from'./components/borrow/Borrow';import Users from'./components/user/Users';import EditUser from'./components/user/EditUser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isLogin:false,prefix:\"http://localhost:8080\",prefix2:\"https://puz-biblioteka.herokuapp.com\",token:\"\"};_this.getLocalToken=function(){console.log(\"get\");var _login=localStorage.getItem('isLogin')==='true';if(_login){var localToken=localStorage.getItem('token');_this.setState({token:localToken,isLogin:true});return localToken;}};_this.setToken=function(token){localStorage.setItem('token',token);localStorage.setItem('isLogin','true');_this.setState({token:token,isLogin:true});};_this.clearToken=function(){localStorage.setItem('token','');localStorage.setItem('isLogin','false');_this.setState({token:null,isLogin:false});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.getLocalToken();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Menu,{className:\"topbar\",clearToken:this.clearToken,isLogin:this.state.isLogin}),/*#__PURE__*/_jsx(\"div\",{className:\"container pt-5\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,render:function render(){return/*#__PURE__*/_jsx(Main,{});}}),/*#__PURE__*/_jsx(Route,{path:\"/login\",render:function render(){return/*#__PURE__*/_jsx(Login,{prefix:_this2.state.prefix,setToken:_this2.setToken});}}),/*#__PURE__*/_jsx(Route,{path:\"/borrow\",render:function render(){return/*#__PURE__*/_jsx(Borrow,{prefix:_this2.state.prefix,getToken:_this2.getLocalToken});}}),/*#__PURE__*/_jsx(Route,{path:'/users/:id',render:function render(){return/*#__PURE__*/_jsx(EditUser,{prefix:_this2.state.prefix,getToken:_this2.getLocalToken});}}),/*#__PURE__*/_jsx(Route,{path:'/users',render:function render(){return/*#__PURE__*/_jsx(Users,{prefix:_this2.state.prefix,getToken:_this2.getLocalToken});}}),/*#__PURE__*/_jsx(Route,{path:'/reservations/:id',render:function render(){return/*#__PURE__*/_jsx(Details,{prefix:_this2.state.prefix,getToken:_this2.getLocalToken});}}),/*#__PURE__*/_jsx(Route,{path:'/reservations',render:function render(){return/*#__PURE__*/_jsx(Reservations,{prefix:_this2.state.prefix,getToken:_this2.getLocalToken});}})]})})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/szymon/College/PUZ-Biblioteka/Admin-Panel/admin-panel/admin-panel/src/App.js"],"names":["React","Component","Route","Switch","HashRouter","Router","Menu","Login","Reservations","Details","Main","Borrow","Users","EditUser","App","state","isLogin","prefix","prefix2","token","getLocalToken","console","log","_login","localStorage","getItem","localToken","setState","setToken","setItem","clearToken"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport {Route, Switch, HashRouter as Router} from 'react-router-dom';\nimport Menu from './components/menu/Menu'\nimport Login from './components/login/Login'\nimport Reservations from './components/reservations/Reservations'\nimport Details from './components/ReservationDetails/Details'\nimport Main from './components/main/Main'\nimport Borrow from './components/borrow/Borrow'\nimport Users from './components/user/Users'\nimport EditUser from './components/user/EditUser'\n\nclass App extends Component {\n  state = {\n    isLogin: false,\n    prefix: \"http://localhost:8080\",\n    prefix2: \"https://puz-biblioteka.herokuapp.com\",\n    token: \"\"\n }\n \n componentDidMount(){\n  this.getLocalToken();\n }\n\n getLocalToken = () =>{\n   console.log(\"get\");\n  const _login = localStorage.getItem('isLogin') === 'true';\n  if (_login){\n    const localToken = localStorage.getItem('token');\n    this.setState({token: localToken, isLogin: true});\n    return localToken;\n  }\n }\n\n setToken = (token) => {\n  localStorage.setItem('token', token); \n  localStorage.setItem('isLogin', 'true'); \n  this.setState({token: token, isLogin: true});\n }\n\n clearToken = () =>{\n  localStorage.setItem('token', ''); \n  localStorage.setItem('isLogin', 'false'); \n   this.setState({token: null, isLogin: false});\n }\n\n render(){\n  return (\n    <Router>\n        <Menu className=\"topbar\" clearToken={this.clearToken} isLogin={this.state.isLogin}/>\n       \n        <div className=\"container pt-5\">\n            <Switch>\n              <Route path='/' exact render={() => <Main/> } /> \n              <Route path='/login' render={() => <Login prefix={this.state.prefix} setToken={this.setToken}/> } /> \n              <Route path='/borrow' render={() => <Borrow prefix={this.state.prefix}  getToken={this.getLocalToken}/> } /> \n              <Route path={'/users/:id'} render={() => <EditUser prefix={this.state.prefix}  getToken={this.getLocalToken}/> } /> \n              <Route path={'/users'} render={() => <Users prefix={this.state.prefix}  getToken={this.getLocalToken}/> } /> \n              \n              <Route path={'/reservations/:id'}  render={() => <Details prefix={this.state.prefix} getToken={this.getLocalToken}/> } /> \n              <Route path={'/reservations'}  render={() => <Reservations prefix={this.state.prefix} getToken={this.getLocalToken}/> } />\n            </Switch>\n        </div>\n      \n   </Router>\n  );\n }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}